global_vars:
  - name: PACKAGE_PATH_FOR_WINDOWS
    type: echo
    params:
      echo: 'C:/Users/peace/AppData/Roaming/espanso/match/packages/delays-characters'
  - name: PACKAGE_PATH_FOR_MAC
    type: echo
    params:
      echo: '%CONFIG%/match/packages/delays-characters'

matches:
  - trigger: ;obs
    replace: '{{Output}}'
    vars:
      - name: Trig
        type: echo
        params:
          echo: ;obs
      - name: Input
        type: echo
        params:
          echo: |
            type cobs
            press enter
            sleep 0.1
            release enter
            sleep 0.5
            type git checkout main && git fetch --all && git pull origin main
            press enter
            sleep 0.1
            release enter
      - name: Output
        type: script
        params:
          args:
            - py
            - '{{PACKAGE_PATH_FOR_WINDOWS}}/parse_pynput.py'
            - '{{Trig}}'
            - '{{Input}}'
